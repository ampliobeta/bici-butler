<!doctype html>
<html>
<head>
<meta charset="utf-8"/>
<style>
* { box-sizing: border-box; margin: 0; padding: 0; }
html, body {
  width: 100%; height: 100%;
  background: #0f1220; color: #fff;
  font-family: system-ui, -apple-system, sans-serif;
  user-select: none; -webkit-app-region: drag;
}
.wrap {
  display: flex; flex-direction: column;
  align-items: center; justify-content: center;
  height: 100%; padding: 40px 48px;
  gap: 24px;
}
.argyle {
  width: 100%; height: 6px; border-radius: 3px;
  background: linear-gradient(90deg, #e8407a 0%, #4a6bbd 50%, #c9b8e8 100%);
  margin-bottom: 8px;
}
h1 {
  font-size: 22px; font-weight: 900; letter-spacing: 1px;
  text-align: center;
}
h1 em { color: #e8407a; font-style: normal; }
p {
  font-size: 13px; color: rgba(255,255,255,.5);
  text-align: center; line-height: 1.6;
}
.field {
  width: 100%; display: flex; flex-direction: column; gap: 8px;
}
label {
  font-size: 11px; font-weight: 700; letter-spacing: 1.5px;
  text-transform: uppercase; color: rgba(255,255,255,.45);
}
input {
  width: 100%; padding: 12px 16px;
  background: rgba(255,255,255,.06);
  border: 1px solid rgba(255,255,255,.15);
  border-radius: 10px;
  font-size: 28px; font-weight: 900; color: #00d4aa;
  text-align: center; outline: none;
  -webkit-app-region: no-drag;
  font-variant-numeric: tabular-nums;
}
input:focus { border-color: #00d4aa; }
.hint {
  font-size: 11px; color: rgba(255,255,255,.3);
  text-align: center;
}
button {
  width: 100%; padding: 14px;
  background: #00d4aa; border: none; border-radius: 10px;
  font-size: 15px; font-weight: 800; color: #0a0c12;
  cursor: pointer; -webkit-app-region: no-drag;
  letter-spacing: .5px;
}
button:hover { background: #00efc0; }
button:disabled { background: rgba(255,255,255,.1); color: rgba(255,255,255,.2); cursor: default; }
</style>
</head>
<body>
<div class="wrap">
  <div class="argyle"></div>
  <h1><em>Bi</em>Ci Â· BCC Butler</h1>
  <p>One thing before we ride.<br>What's your FTP?</p>
  <div class="field">
    <label>FTP (Watts)</label>
    <input type="number" id="ftp" placeholder="300" min="100" max="600" autofocus/>
    <div class="hint">You can update this anytime from the app menu.</div>
  </div>
  <button id="btn" disabled>Let's Ride</button>
</div>
<script>
const { ipcRenderer } = require('electron');
const input = document.getElementById('ftp');
const btn = document.getElementById('btn');

input.addEventListener('input', () => {
  const v = parseInt(input.value);
  btn.disabled = !(v >= 100 && v <= 600);
});

input.addEventListener('keydown', (e) => {
  if (e.key === 'Enter' && !btn.disabled) submit();
});

btn.addEventListener('click', submit);

function submit() {
  ipcRenderer.send('ftp-set', input.value);
}
</script>
</body>
</html>
